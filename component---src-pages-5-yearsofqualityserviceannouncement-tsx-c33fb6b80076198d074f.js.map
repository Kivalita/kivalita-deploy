{"version":3,"sources":["webpack:///./src/components/pages/Birthday/style.ts","webpack:///./src/components/pages/Birthday/index.tsx","webpack:///./src/pages/5yearsofqualityserviceannouncement.tsx","webpack:///./src/services/base-url.js","webpack:///./src/services/auth-service.tsx","webpack:///./src/hooks/auth.tsx","webpack:///./src/services/service.tsx","webpack:///./src/services/token-service.tsx"],"names":["Container","styled","div","Content","Sidebar","JugaadComponent","article","imageUrl","breadCrumbList","url","name","isActive","facebookData","Layout","SEO","title","description","image","Banner","titlePage","className","alt","width","src","ShareButtons","dangerouslySetInnerHTML","__html","appId","href","tabs","Jugaad","module","exports","BaseUrl","AuthService","api","Service","login","email","password","this","post","grantType","then","response","accessToken","refreshToken","user","TokenService","storeToken","storeRefreshToken","storeUser","logout","clearToken","AuthContext","createContext","AuthProvider","children","useState","getToken","getUser","data","setData","signIn","useCallback","a","authService","signOut","Provider","value","useAuth","context","useContext","Error","isRefreshing","refreshSubscribers","axios","create","baseURL","base","interceptors","request","use","headers","error","status","Promise","resolve","reject","getNewToken","token","config","catch","auth","expirationDate","getRefreshToken","Email","Password","GrantType","resp","get","isStatusCodeSuccess","errorMessage","put","delete","localStorage","removeItem","LOCAL_STORAGE_USER","LOCAL_STORAGE_TOKEN","LOCAL_STORAGE_REFRESH_TOKEN","setItem","JSON","stringify","getItem","parse"],"mappings":"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","file":"component---src-pages-5-yearsofqualityserviceannouncement-tsx-c33fb6b80076198d074f.js","sourcesContent":["import styled from \"styled-components\"\r\n\r\nexport const Container = styled.div`\r\n\tmax-width: 750px;\r\n\twidth: 100%;\r\n\tmargin-bottom: 64px;\r\n\tposition: relative;\r\n\r\n\timg {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.wrapper-image-cover {\r\n\t\tborder-radius: 16px;\r\n\t\toverflow: hidden;\r\n\t\tmargin-top: -56px;\r\n\t\tmax-height: 450px;\r\n\t}\r\n`\r\n\r\nexport const Content = styled.div`\r\n\ttext-align: left;\r\n\tcolor: #444;\r\n\tfont-family: \"Montserrat\", Sans-serif;\r\n\tfont-size: 20px;\r\n\tfont-weight: 400;\r\n\tline-height: 1.6;\r\n\toverflow: hidden;\r\n\twidth: 100%;\r\n\r\n\tul,\r\n\tol {\r\n\t\tpadding-inline-start: 40px;\r\n\t}\r\n`\r\n\r\nexport const Sidebar = styled.div`\r\n\tposition: absolute;\r\n\ttop: 80px;\r\n\tright: -310px;\r\n\twidth: 300px;\r\n\r\n\t@media (max-width: 1400px) {\r\n\t\twidth: 260px;\r\n\t\tright: -275px;\r\n\t}\r\n\r\n\t@media (max-width: 1330px) {\r\n\t\tdisplay: none;\r\n\t}\r\n`\r\n","import React from \"react\"\r\nimport { IBreadCrumbOption } from \"../../../interfaces\"\r\nimport Layout from \"../../Layout\"\r\nimport SEO from \"../../utils/SEO\"\r\nimport Banner from \"../../utils/Banner\"\r\nimport { Container, Content, Sidebar } from \"./style\"\r\nimport ShareButtons from \"../../utils/ShareButtons\"\r\nimport { FacebookProvider, Page } from \"react-facebook\"\r\n\r\nconst JugaadComponent = () => {\r\n\tconst article = {\r\n\t\ttitle: \"Kivalita Celebrates 5 years of Quality Services\",\r\n\t\tpostImage: {\r\n\t\t\timageUrl:\r\n\t\t\t\t\"https://api.kivalita.com.br/resources/images/ee373ad7-7773-4953-8d9d-c81cb9f9e487.jpg\",\r\n\t\t},\r\n\t\tarticle: `<p><span style=\"font-family: Helvetica, sans-serif;\"> In today's challenging times, while many small and medium-sized companies are finding their way, Kivalita is confident to complete its 5 years since its creation. This September, Kivalita celebrates this milestone by connecting and educating its existing, potential and quality professionals. </span></p><p><span style=\"font-family: Helvetica, sans-serif;\">Kivalita Consulting will present its exclusive <strong>Weekly Newsletter</strong>, sharing the main headlines of the Life Science industry with a focus on the Brazilian market. </span></p><p><span style=\"font-family: Helvetica, sans-serif;\">We also invite professionals from various areas to<strong> 'Quality Week'</strong> starting <strong>21st September.</strong> The week will open the dialogue and share the knowledge with the participants about the existing possibilities to improve their processes with decisions based on the Quality area. Kivalita Consulting's CEO, Barbara Guelfi, will deliver webinars with new perspectives on ISO 27001, the newly introduced LGPD Law in Brazil, Gap Analysis (Process gap diagnostics), Data Integrity and more. The week ends with the distribution of a very practical e-Book on ISSO 27001 and the possibility of winning a GAP Analysis entirely free. </span></p><p><span style=\"font-family: Helvetica, sans-serif;\">Speaking a little about our history, Kivalita Consulting, formerly known as Qualicon Pharma was born in 2015 with the strength and courage of a woman, Barbara. Early in her career, she recognized the need for quality-led consulting. Her vision to improve and develop the business came from the need to follow standards to improve and help companies to grow. CEO Barbara Guelfi says that \"Quality professionals focused more on being experts in resolving fires than improving processes. It moved me. I had to do something.\" Today, Kivalita Consulting's services range from Validations, ISO Certifications, Laboratory Projects, Translations to Outsourcing of qualified labor and much more. Recently, it also added Gap Analysis to its portfolio. Kivalita also has services focused on technology and the development of industry 4.0.</span></p><p><span style=\"font-family: Helvetica, sans-serif;\"> “KIVALITA” comes from the translation of the word Quality in Esperanto (Kvalito)) in Slovak (Kvalite). True to its meaning, Kivalita's mission, vision and purpose focus on improving business processes serving local and multinational customers. We are building the future generation of quality leaders, strongly supporting female empowerment and diversity in the workforce with different backgrounds from different ethnicities, genders, cultures.</span></p><p><span style=\"font-family: Helvetica, sans-serif;\"> KIVALITA strategizes, develops and advises in several industries such as pharmaceutical, cosmetic, food, chemical, sanitizing, veterinary, sugar and alcohol industries, importers, laboratories and much more.</span></p><p>  </p><p class=\"MsoNormal\"><span style=\"font-family: Helvetica, sans-serif;\"><strong><span lang=\"EN-US\" style=\"mso-ansi-language:EN-US\">Kivalita Consulting, </span></strong><span lang=\"EN-US\" style=\"mso-ansi-language:EN-US\">b</span><span lang=\"EN-US\" style=\"mso-ansi-language:EN-US\">ring the quality your company deserves!</span></span></p><p style=\"text-align: center;\"><span style=\"font-family: Helvetica, sans-serif; font-size: 24px;\"><a href=\"https://conteudo.kivalitaconsulting.com/semana-da-qualidade?utm_source=website&amp;utm_medium=blog&amp;utm_campaign=divulgacao_semana_qualidade&amp;utm_content=sidebar \" target=\"_blank\">Sign up for QUALITY WEEK</a></span></p><p style=\"text-align: center;\"><span style=\"font-family: Helvetica, sans-serif; font-size: 24px;\"><a href=\"https://conteudo.kivalitaconsulting.com/newsletter\" target=\"_blank\">Sign up for WEEKLY NEWSLETTER</a></span></p><p class=\"MsoNormal\" style=\"text-align: center;\"><span lang=\"EN-US\" style=\"font-size: 24px; font-family: Helvetica, sans-serif;\"><o:p></o:p></span></p><p style=\"text-align: center;\">  </p><p style=\"text-align: center;\"><br></p>`,\r\n\t}\r\n\r\n\tconst breadCrumbList: IBreadCrumbOption[] = [\r\n\t\t{\r\n\t\t\turl: \"/\",\r\n\t\t\tname: \"Home\",\r\n\t\t\tisActive: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: \"articles\",\r\n\t\t\tname: \"Artigos\",\r\n\t\t\tisActive: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: \"articles\",\r\n\t\t\tname: article.title,\r\n\t\t\tisActive: false,\r\n\t\t},\r\n\t]\r\n\r\n\tconst facebookData = {\r\n\t\tid: \"731372470600932\",\r\n\t\turl: \"https://www.facebook.com/kivalitaconsulting/\",\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Layout breadCrumbList={breadCrumbList}>\r\n\t\t\t<SEO\r\n\t\t\t\ttitle={article.title}\r\n\t\t\t\tdescription=\"A Kivalita Consulting é uma consultoria única que busca soluções rápidas, atendendo aos mais rigorosos requisitos regulamentares e de mercado da qualidade.\"\r\n\t\t\t\timage=\"https://api.kivalita.com.br/resources/images/ee373ad7-7773-4953-8d9d-c81cb9f9e487.jpg\"\r\n\t\t\t\tarticle={true}\r\n\t\t\t></SEO>\r\n\t\t\t<Banner titlePage={article.title} />\r\n\t\t\t<Container className=\"container\">\r\n\t\t\t\t<div className=\"wrapper-image-cover\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\talt=\"Article image\"\r\n\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\tsrc={article.postImage.imageUrl}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ShareButtons url=\"https://www.kivalitaconsulting.com/5yearsofqualityserviceannouncement\" />\r\n\r\n\t\t\t\t<Content dangerouslySetInnerHTML={{ __html: article.article }} />\r\n\r\n\t\t\t\t<Sidebar>\r\n\t\t\t\t\t<FacebookProvider appId={facebookData.id}>\r\n\t\t\t\t\t\t<Page href={facebookData.url} tabs=\"timeline\" />\r\n\t\t\t\t\t</FacebookProvider>\r\n\t\t\t\t</Sidebar>\r\n\t\t\t</Container>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\nexport default JugaadComponent\r\n","import React from \"react\"\r\n\r\nimport { AuthProvider } from \"../hooks/auth\"\r\nimport JugaadComponent from \"../components/pages/Birthday\"\r\n\r\nconst Jugaad = () => {\r\n\treturn (\r\n\t\t<AuthProvider>\r\n\t\t\t<JugaadComponent />\r\n\t\t</AuthProvider>\r\n\t)\r\n}\r\n\r\nexport default Jugaad\r\n","module.exports = {\r\n\tBaseUrl: \"https://kivalitaapi.azurewebsites.net/api/\",\r\n\t// BaseUrl: \"http://localhost:5000/api/\",\r\n}\r\n","import Service from \"./service\"\r\nimport TokenService from \"./token-service\"\r\n\r\ninterface IReponse {\r\n\taccessToken: string\r\n\texpirationDate: string\r\n\trefreshToken: string\r\n\tuser: object\r\n}\r\n\r\nclass AuthService {\r\n\tprivate api = new Service()\r\n\r\n\tlogin(email: string, password: string) {\r\n\t\treturn this.api\r\n\t\t\t.post<IReponse>(\"user/auth\", {\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tgrantType: \"password\",\r\n\t\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tconst { accessToken, refreshToken, user } = response\r\n\r\n\t\t\t\tTokenService.storeToken(accessToken)\r\n\t\t\t\tTokenService.storeRefreshToken(refreshToken)\r\n\t\t\t\tTokenService.storeUser(user)\r\n\r\n\t\t\t\treturn response\r\n\t\t\t})\r\n\t}\r\n\r\n\tlogout() {\r\n\t\tTokenService.clearToken()\r\n\t}\r\n}\r\n\r\nexport default AuthService\r\n","import React, { createContext, useCallback, useState, useContext } from \"react\"\r\n\r\nimport AuthService from \"../services/auth-service\"\r\nimport TokenService from \"../services/token-service\"\r\n\r\ninterface IAuthState {\r\n\taccessToken: string\r\n\tuser: object\r\n}\r\n\r\ninterface ISignInCreadentials {\r\n\temail: string\r\n\tpassword: string\r\n}\r\n\r\ninterface IAuthContextData {\r\n\tuser: {\r\n\t\tid: string\r\n\t\temail: string\r\n\t\tfirstName: string\r\n\t\tlastName: string\r\n\t}\r\n\tsignIn(credentials: ISignInCreadentials): Promise<void>\r\n\tsignOut(): void\r\n}\r\n\r\nconst AuthContext = createContext<IAuthContextData>({} as IAuthContextData)\r\n\r\nconst AuthProvider: React.FC = ({ children }) => {\r\n\tconst [data, setData] = useState<IAuthState>(() => {\r\n\t\tconst accessToken = TokenService.getToken()\r\n\t\tconst user = TokenService.getUser()\r\n\r\n\t\tif (accessToken && user) {\r\n\t\t\treturn { accessToken, user }\r\n\t\t}\r\n\r\n\t\treturn {} as IAuthState\r\n\t})\r\n\r\n\tconst signIn = useCallback(async ({ email, password }) => {\r\n\t\tconst authService = new AuthService()\r\n\t\tconst response = await authService.login(email, password)\r\n\r\n\t\tconst { accessToken, user } = response\r\n\r\n\t\tsetData({ accessToken, user })\r\n\t}, [])\r\n\r\n\tconst signOut = useCallback(() => {\r\n\t\tTokenService.clearToken()\r\n\r\n\t\tsetData({} as IAuthState)\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider value={{ user: data.user, signIn, signOut }}>\r\n\t\t\t{children}\r\n\t\t</AuthContext.Provider>\r\n\t)\r\n}\r\n\r\nfunction useAuth(): IAuthContextData {\r\n\tconst context = useContext(AuthContext)\r\n\r\n\tif (!context) {\r\n\t\tthrow new Error(\"useAuth must be used within an AuthProvider\")\r\n\t}\r\n\r\n\treturn context\r\n}\r\n\r\nexport { AuthProvider, useAuth }\r\n","import axios from \"axios\"\r\nimport TokenService from \"./token-service\"\r\n\r\nimport * as base from \"./base-url.js\"\r\n\r\ninterface IResponse<T> {\r\n\tstatusCode: number\r\n\tisStatusCodeSuccess: boolean\r\n\tdata: T\r\n\terrorMessage: string\r\n}\r\n\r\ninterface IAuth {\r\n\taccessToken: string\r\n\texpirationDate: string\r\n\trefreshToken: string\r\n\tEmail: string\r\n\tPassword: string\r\n\tGrantType: string\r\n}\r\n\r\nclass Service<T> {\r\n\tisRefreshing = false\r\n\trefreshSubscribers = []\r\n\r\n\tapi = axios.create({\r\n\t\tbaseURL: base.BaseUrl,\r\n\t})\r\n\r\n\tconstructor() {\r\n\t\tthis.api.interceptors.request.use(request => {\r\n\t\t\trequest.headers[\"Authorization\"] = `Bearer ${TokenService.getToken()}`\r\n\t\t\treturn request\r\n\t\t})\r\n\t\tthis.api.interceptors.response.use(\r\n\t\t\tresponse => {\r\n\t\t\t\treturn response\r\n\t\t\t},\r\n\t\t\terror => {\r\n\t\t\t\tif (error.response?.status !== 401) {\r\n\t\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t\treject(error)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn this.getNewToken()\r\n\t\t\t\t\t.then((token: string) => {\r\n\t\t\t\t\t\tconst config = error.config\r\n\t\t\t\t\t\tconfig.headers[\"Authorization\"] = `Bearer ${token}`\r\n\r\n\t\t\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\taxios\r\n\t\t\t\t\t\t\t\t.request(config)\r\n\t\t\t\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\t\t\t\tresolve(response)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\t\t\t\treject(error)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error: any) => {\r\n\t\t\t\t\t\tPromise.reject(error)\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tgetNewToken() {\r\n\t\tconst auth: IAuth = {\r\n\t\t\taccessToken: \"\",\r\n\t\t\texpirationDate: \"\",\r\n\t\t\trefreshToken: TokenService.getRefreshToken() || \"\",\r\n\t\t\tEmail: \"\",\r\n\t\t\tPassword: \"\",\r\n\t\t\tGrantType: \"refresh_token\",\r\n\t\t}\r\n\r\n\t\treturn this.post<IAuth>(\"User/auth\", auth, {}).then(resp => {\r\n\t\t\tTokenService.storeToken(resp.accessToken)\r\n\t\t\tTokenService.storeRefreshToken(resp.refreshToken)\r\n\t\t\treturn resp.accessToken\r\n\t\t})\r\n\t}\r\n\r\n\tasync get<T>(url: string, headers?: {}) {\r\n\t\treturn await this.api\r\n\t\t\t.get<IResponse<T>>(url, {\r\n\t\t\t\theaders: headers,\r\n\t\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (response.data.isStatusCodeSuccess) {\r\n\t\t\t\t\treturn response.data.data\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow response.data.errorMessage\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tasync put<T>(url: string, data: T, headers?: {}) {\r\n\t\treturn await this.api\r\n\t\t\t.put<IResponse<T>>(url, data, {\r\n\t\t\t\theaders: headers,\r\n\t\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (response.data.isStatusCodeSuccess) {\r\n\t\t\t\t\treturn response.data.data\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow response.data.errorMessage\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tasync post<T>(url: string, data: object, headers?: {}) {\r\n\t\treturn await this.api\r\n\t\t\t.post<IResponse<T>>(url, data, {\r\n\t\t\t\theaders: headers,\r\n\t\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (response.data.isStatusCodeSuccess) {\r\n\t\t\t\t\treturn response.data.data\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow response.data.errorMessage\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tasync delete<T>(url: string, headers?: {}) {\r\n\t\treturn await this.api\r\n\t\t\t.delete<IResponse<T>>(url, {\r\n\t\t\t\theaders: headers,\r\n\t\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (response.data.isStatusCodeSuccess) {\r\n\t\t\t\t\treturn response.data.data\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow response.data.errorMessage\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n}\r\n\r\nexport default Service\r\n","class TokenService {\r\n\tprivate static readonly LOCAL_STORAGE_USER = \"user\"\r\n\tprivate static readonly LOCAL_STORAGE_TOKEN = \"token\"\r\n\tprivate static readonly LOCAL_STORAGE_REFRESH_TOKEN = \"refresh_token\"\r\n\r\n\tpublic static clearToken() {\r\n\t\tif (typeof localStorage != \"undefined\") {\r\n\t\t\tlocalStorage.removeItem(this.LOCAL_STORAGE_USER)\r\n\t\t\tlocalStorage.removeItem(this.LOCAL_STORAGE_TOKEN)\r\n\t\t\tlocalStorage.removeItem(this.LOCAL_STORAGE_REFRESH_TOKEN)\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static storeUser(user: object) {\r\n\t\tif (typeof localStorage != \"undefined\") {\r\n\t\t\tlocalStorage.setItem(this.LOCAL_STORAGE_USER, JSON.stringify(user))\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static storeToken(token: string) {\r\n\t\tif (typeof localStorage != \"undefined\") {\r\n\t\t\tlocalStorage.setItem(this.LOCAL_STORAGE_TOKEN, token)\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static storeRefreshToken(refreshToken: string) {\r\n\t\tif (typeof localStorage != \"undefined\") {\r\n\t\t\tlocalStorage.setItem(this.LOCAL_STORAGE_REFRESH_TOKEN, refreshToken)\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static getRefreshToken() {\r\n\t\tif (typeof localStorage != \"undefined\") {\r\n\t\t\treturn localStorage.getItem(this.LOCAL_STORAGE_REFRESH_TOKEN)\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static getToken() {\r\n\t\tif (typeof localStorage != \"undefined\") {\r\n\t\t\treturn localStorage.getItem(this.LOCAL_STORAGE_TOKEN)\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static getUser() {\r\n\t\tif (typeof localStorage != \"undefined\") {\r\n\t\t\tconst user = localStorage.getItem(this.LOCAL_STORAGE_USER)\r\n\t\t\treturn JSON.parse(user)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default TokenService\r\n"],"sourceRoot":""}