(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"+YTQ":function(e,t,a){"use strict";var n=a("o0o1"),i=a.n(n),r=(a("ls82"),a("HaE+")),l=a("q1tI"),c=a.n(l),o=a("BFsH"),s=a("3Z9Z"),u=a("JI6e"),m=a("ma3e"),p=a("saKG"),d=a("s7Dq"),g=a("20uD"),f=a("WEgg"),h=a("QojX"),b=a("cWnB"),v=a("Lnei"),w=a("cioW"),E=a.n(w),x=a("kzl9"),k=a("t26L");function y(e){var t=e.dataModal,a=e.showModal,n=e.onCloseModal,o=e.handleSubmit,s=e.handlePreview,u=Object(l.useRef)(null),m=Object(k.a)(),d=m.value,g=m.setValue,f=m.bind,w=m.reset,y=Object(k.a)(),j=y.value,O=y.setValue,I=y.bind,N=y.reset,C=Object(l.useState)([]),L=C[0],S=C[1],P=Object(l.useState)(!1),F=P[0],z=P[1],A=Object(l.useState)(""),D=A[0],G=A[1],H=Object(l.useState)(),T=H[0],B=H[1],R=Object(l.useState)(!1),M=R[0],q=R[1],J=Object(l.useState)(!1),U=J[0],W=J[1],Z=Object(l.useState)(!1),V=(Z[0],Z[1]),_=Object(l.useState)(void 0),K=_[0],Q=_[1],Y=new p.b;function X(){return(X=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y.listAll().then((function(e){S(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(l.useEffect)((function(){!function(){X.apply(this,arguments)}(),t&&t.id?(g(t.title),O(t.article||""),B(t.image),z(t.published),q(1==t.language),W(t.isNews),Q(t.linkId),V(t.isLegislation)):(w(),N(),z(!1),G(""),B(""),q(!1),W(!1),Q(void 0),V(!!e.isLegislationForm))}),[]);var $=function(){var a=Object(r.a)(i.a.mark((function a(r){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.next=3,o({id:t.id,title:d,image:T,article:j,published:F,isNews:U,language:M?1:0,linkId:K,isLegislation:e.isLegislationForm});case 3:N(),w(),n();case 6:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return c.a.createElement(v.a,{open:a,onClose:n,center:!0},c.a.createElement(h.a,{onSubmit:$,style:{minWidth:"700px"}},c.a.createElement("h3",null,"Adicionar artigo"),c.a.createElement(h.a.Group,null,c.a.createElement(h.a.Label,null,"Título"),c.a.createElement(h.a.Control,Object.assign({type:"text"},f))),c.a.createElement(h.a.Group,null,c.a.createElement(h.a.Label,null,"Imagem principal"),c.a.createElement(h.a.Control,{type:"file",value:D,onChange:function(e){G(e.target.value);var a=e.target.files[0];Object(x.a)(a).then((function(e){return B(e)})),t.imageId=void 0}})),c.a.createElement(h.a.Group,null,c.a.createElement(h.a.Label,null,"Conteúdo"),c.a.createElement(E.a,Object.assign({ref:u},I))),c.a.createElement(h.a.Group,null,c.a.createElement(h.a.Label,null,"Vincular tradução"),c.a.createElement(h.a.Control,{as:"select",custom:!0,onChange:function(e){var t=e.target.value;Q(0!=t?t:null)},value:K},c.a.createElement("option",{value:0},"Nenhum"),L.map((function(e){return c.a.createElement("option",{value:e.id,key:e.id},e.title)})))),c.a.createElement(h.a.Check,{type:"radio",label:"PT",name:"formHorizontalRadios",id:"formHorizontalRadios1",checked:M,onChange:function(e){q(!0)}}),c.a.createElement(h.a.Check,{type:"radio",label:"EN",name:"formHorizontalRadios",id:"formHorizontalRadios2",checked:!M,onChange:function(e){q(!1)}}),!e.isLegislationForm&&c.a.createElement(h.a.Check,{type:"switch",label:"é news",id:"custom-switch-news",className:"mb-4",checked:U,onChange:function(e){W(e.target.checked)}}),c.a.createElement(h.a.Check,{type:"switch",label:"Publicar artigo",id:"custom-switch",className:"mb-4",checked:F,onChange:function(e){z(e.target.checked)}}),c.a.createElement(b.a,{variant:"primary",type:"submit",className:"mr-2"},"Salvar"),c.a.createElement(b.a,{variant:"link",type:"button",onClick:function(){s({id:"preview",title:d,article:j,published:F,postImage:{imageUrl:t.imageUrl}})}},"Visualizar")))}var j=a("6xyR"),O=a("dDCJ"),I=a("AINe"),N=a("Wbzz"),C=a("vOnD"),L=C.b.div.withConfig({componentId:"mop0v2-0"})(["margin-bottom:40px;a{color:#333;}a:hover{text-decoration:none;}.col-md-8{img.card-img-top{height:375px;object-fit:cover;}.card-body > span > .react-loading-skeleton{height:375px !important;}}.wrapper-facebook{padding:0;text-align:center;@media (max-width:576px){display:none;}}"]),S=C.b.span.withConfig({componentId:"mop0v2-1"})(["font-size:12px;text-transform:uppercase;color:#aaa;display:inline-block;margin-bottom:8px;"]);function P(e){var t=e.editArticle,a=e.deleteArticle,n=e.id,i=e.title,r=e.slug,l=e.createdAt,o=e.published,s=e.postImage,u=e.isFirst,p=e.language,d=e.isNews,g=e.isLegislation;return c.a.createElement(j.a,{style:{width:"100%",height:"100%"}},c.a.createElement(f.a,null,c.a.createElement(j.a.Header,null,c.a.createElement("small",{className:"text-muted float-left"},c.a.createElement(O.a,{placement:"top",overlay:c.a.createElement(I.a,{id:"tooltip-post"},o?"Publicado":"Não publicado")},c.a.createElement(m.b,{color:o?"green":"red"}))),c.a.createElement("small",{className:"text-muted float-right"},c.a.createElement(m.j,{size:20,onClick:function(){return t(n)}}),c.a.createElement(m.k,{onClick:function(){return a(n)},className:"ml-3",size:20,color:"#CD7165"})))),c.a.createElement(N.Link,{to:g?"/legislation-articles/"+r:d?"/news/"+r:"/articles/"+r},c.a.createElement(j.a.Img,{style:{height:u?"auto":"160px",objectFit:"cover"},variant:"top",src:s.imageUrl}),c.a.createElement(j.a.Body,null,c.a.createElement(S,null,new Intl.DateTimeFormat(0==p?"en-US":"pt-BR",{year:"numeric",month:"long"}).format(new Date(l))),c.a.createElement(j.a.Title,{style:{marginBottom:0}},i))))}var F=a("sZxp"),z=a.n(F);function A(){return c.a.createElement(j.a,{style:{width:"100%"}},c.a.createElement(j.a.Body,null,c.a.createElement(z.a,{width:"100%",height:180}),c.a.createElement(j.a.Title,{style:{marginTop:"24px"}},c.a.createElement(z.a,{count:2}))))}var D=a("OgpL"),G=a("FtNa");t.a=function(e){var t=Object(D.b)().user,a=Object(l.useState)({}),n=a[0],h=a[1],b=Object(l.useState)(!1),v=b[0],w=b[1],E=Object(l.useState)([]),x=E[0],k=E[1],j=Object(l.useState)(),O=j[0],I=j[1],N=Object(l.useState)(!1),C=N[0],S=N[1],F=new p.b,z=e.isNews,H=e.isLegislation,T="731372470600932",B="https://www.facebook.com/kivalitaconsulting/",R=function(){return w(!0)},M=function(){var e=Object(r.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get(t);case 2:(a=e.sent)&&(h({id:a.id,title:a.title,imageId:a.postImage.id,article:a.article,published:a.published,language:a.language,isNews:a.isNews||!1,linkId:a.linkId,userId:null==a||null===(n=a.author)||void 0===n?void 0:n.id,isLegislation:a.isLegislation||!1}),R());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=Object(l.useCallback)(function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F.delete(t).then((function(){var e=x.filter((function(e){return e.id!==t}));k(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[x]);function J(){return U.apply(this,arguments)}function U(){return(U=Object(r.a)(i.a.mark((function t(){var a,n,r,l,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a="en"==localStorage.getItem("i18nextLng")?p.a.en:p.a.pt,S(!0),n=[],!z){t.next=9;break}return t.next=6,F.listNews(a);case 6:n=t.sent,t.next=18;break;case 9:if(!H){t.next=15;break}return t.next=12,F.listLegislation(a);case 12:n=t.sent,t.next=18;break;case 15:return t.next=17,F.list(a);case 17:n=t.sent;case 18:l=(r=n)[0],c=r.slice(1),I(l),k(c),S(!1),e.titleCallback();case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var W=function(){var e=Object(r.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.userId=t.id,!a.id){e.next=7;break}return a.imageId=n.imageId,e.next=5,F.update(a);case 5:e.next=9;break;case 7:return e.next=9,F.create(a);case 9:J();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(r.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:F.savePreview(t),window.open("/preview","_blank");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){J()}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a,{titlePage:z?Object(G.a)("banner.news"):H?Object(G.a)("banner.legislation"):Object(G.a)("banner.article")}),c.a.createElement(L,{className:"container"},c.a.createElement(f.a,null,c.a.createElement(g.a,{handleClick:R},"Adicionar Artigo ",c.a.createElement(m.i,null)),v&&c.a.createElement(y,{dataModal:n,showModal:v,onCloseModal:function(){w(!1),h({})},handleSubmit:W,handlePreview:Z,isLegislationForm:H})),c.a.createElement(s.a,{style:{margin:"24px 0"}},c.a.createElement(u.a,{md:8},C?c.a.createElement(A,null):O&&c.a.createElement(P,Object.assign({editArticle:M,deleteArticle:q,isFirst:!0},O))),c.a.createElement(u.a,{xs:"12",md:4,className:"wrapper-facebook"},c.a.createElement(o.FacebookProvider,{appId:T},c.a.createElement(o.Page,{href:B,tabs:"timeline"})))),c.a.createElement(s.a,{style:{margin:"24px 0"}},C?c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{md:4},c.a.createElement(A,null)),c.a.createElement(u.a,{md:4},c.a.createElement(A,null)),c.a.createElement(u.a,{md:4},c.a.createElement(A,null))):x.map((function(e){return c.a.createElement(u.a,{md:4,key:e.id,style:{margin:"24px 0"}},c.a.createElement(P,Object.assign({editArticle:M,deleteArticle:q},e)))})))))}},"3Z9Z":function(e,t,a){"use strict";var n=a("wx14"),i=a("zLVn"),r=a("TSYQ"),l=a.n(r),c=a("q1tI"),o=a.n(c),s=a("vUet"),u=["xl","lg","md","sm","xs"],m=o.a.forwardRef((function(e,t){var a=e.bsPrefix,r=e.className,c=e.noGutters,m=e.as,p=void 0===m?"div":m,d=Object(i.a)(e,["bsPrefix","className","noGutters","as"]),g=Object(s.a)(a,"row"),f=g+"-cols",h=[];return u.forEach((function(e){var t,a=d[e];delete d[e];var n="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"==typeof a?a.cols:a)&&h.push(""+f+n+"-"+t)})),o.a.createElement(p,Object(n.a)({ref:t},d,{className:l.a.apply(void 0,[r,g,c&&"no-gutters"].concat(h))}))}));m.displayName="Row",m.defaultProps={noGutters:!1},t.a=m},saKG:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n,i=a("Sytq");!function(e){e[e.en=0]="en",e[e.pt=1]="pt"}(n||(n={}));var r=function(){function e(){this.api=new i.a}var t=e.prototype;return t.listAll=function(){return this.api.get("post/v2")},t.list=function(e){var t=null!=e?",language=="+e:"";return this.api.get("post/v2?filters=isNews==false,isLegislation==false"+t)},t.listNews=function(e){var t=null!=e?",language=="+e:"";return this.api.get("post/v2?filters=isNews==true,isLegislation==false"+t)},t.listLegislation=function(e){var t=null!=e?",language=="+e:"";return this.api.get("post/v2?filters=isLegislation==true"+t)},t.get=function(e){return this.api.get("post/"+e)},t.getByLanguage=function(e,t){return this.api.get("post/"+e+"/"+t)},t.delete=function(e){return this.api.delete("post/"+e)},t.create=function(e){var t=e.title,a=e.image,n=e.article,i=e.published,r=e.userId,l=void 0===r?"0":r,c=e.language,o=e.isNews,s=e.linkId,u=e.isLegislation;return this.api.post("post",{title:t,article:n,published:i,authorId:l,imageData:a,language:c,isNews:o,linkId:s,isLegislation:u})},t.update=function(e){var t=e.id,a=e.title,n=e.image,i=e.imageId,r=e.article,l=e.published,c=e.userId,o=void 0===c?"0":c,s=e.language,u=e.isNews,m=e.linkId,p=e.isLegislation;return this.api.put("post/"+t,{id:t,title:a,imageId:i,article:r,imageData:n,published:l,authorId:o,language:s,isNews:u,linkId:m,isLegislation:p})},t.savePreview=function(e){"undefined"!=typeof localStorage&&localStorage.setItem("postPreview",JSON.stringify(e))},t.getPreview=function(){if("undefined"!=typeof localStorage){var e=localStorage.getItem("postPreview");if(!e)return;return JSON.parse(e)}},e}();t.b=r},y3D6:function(e,t,a){"use strict";var n=a("o0o1"),i=a.n(n),r=(a("ls82"),a("HaE+")),l=a("q1tI"),c=a.n(l),o=a("BFsH"),s=a("s7Dq"),u=a("Ch9g"),m=a("vOnD"),p=m.b.div.withConfig({componentId:"sc-1kmsnvb-0"})(["max-width:750px;width:100%;margin-bottom:64px;position:relative;img{width:100%;}.wrapper-image-cover{border-radius:16px;overflow:hidden;margin-top:-56px;max-height:450px;}"]),d=m.b.div.withConfig({componentId:"sc-1kmsnvb-1"})(['text-align:left;color:#444;font-family:"Montserrat",Sans-serif;font-size:20px;font-weight:400;line-height:1.6;overflow:hidden;width:100%;ul,ol{padding-inline-start:40px;}']),g=m.b.div.withConfig({componentId:"sc-1kmsnvb-2"})(["position:absolute;top:80px;right:-310px;width:300px;@media (max-width:1400px){width:260px;right:-275px;}@media (max-width:1330px){display:none;}"]),f=m.b.div.withConfig({componentId:"sc-1kmsnvb-3"})(["padding:5%;"]),h=a("saKG"),b=a("sZxp"),v=a.n(b),w=a("tLx4"),E=a("Wbzz");t.a=function(e){e.id;var t=e.titleCallback,a=new h.b,n=Object(l.useState)({}),m=n[0],b=n[1],x="731372470600932",k="https://www.facebook.com/kivalitaconsulting/";return Object(l.useEffect)((function(){function e(){return(e=Object(r.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"en"==localStorage.getItem("i18nextLng")?"en":"pt",e.next=3,a.getPreview();case 3:n=e.sent,console.log(n),n?(b(n),t(n.title)):Object(E.navigateTo)("/articles");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),m&&!m.id?c.a.createElement(c.a.Fragment,null,c.a.createElement(v.a,{height:300}),c.a.createElement("div",{className:"container mt-3 mb-3"},c.a.createElement(v.a,{count:3}),c.a.createElement("div",{className:"row mt-3"},c.a.createElement("div",{className:"col-image col-6",style:{textAlign:"center"}},c.a.createElement(v.a,{count:1,height:200,width:200})),c.a.createElement("div",{className:"col-6"},c.a.createElement(v.a,{count:15}))))):c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{title:m.title,article:!0}),c.a.createElement(s.a,{titlePage:m.title}),c.a.createElement(p,{className:"container"},c.a.createElement("div",{className:"wrapper-image-cover"},c.a.createElement("img",{alt:"Article image",width:"100%",src:m.postImage.imageUrl})),c.a.createElement(u.a,{url:window.location.href}),c.a.createElement(d,{dangerouslySetInnerHTML:{__html:m.article}}),c.a.createElement(g,null,c.a.createElement(o.FacebookProvider,{appId:x},c.a.createElement(o.Page,{href:k,tabs:"timeline"})),c.a.createElement(f,{onClick:function(){window.open("https://conteudo.kivalitaconsulting.com/e-book-iso-27001","_blank")}},c.a.createElement("img",{alt:"Download Livro Kivalita",width:"500px",src:"https://www.kivalitaconsulting.com/wp-content/E-Book_1080x1080.png"})))))}}}]);
//# sourceMappingURL=f562f2fc1430a8b3037dd8811729aa97df2d6a0b-d88ddd9ef8c8d3e6b700.js.map