{"version":3,"sources":["webpack:///./src/components/pages/Aniversario/style.ts","webpack:///./src/components/pages/Aniversario/index.tsx","webpack:///./src/pages/aniversariode5anosdakivalitaconsulting.tsx","webpack:///./src/services/base-url.js","webpack:///./src/services/auth-service.tsx","webpack:///./src/hooks/auth.tsx","webpack:///./src/services/service.tsx","webpack:///./src/services/token-service.tsx"],"names":["Container","styled","div","Content","Sidebar","AniversarioComponent","article","imageUrl","breadCrumbList","url","name","isActive","facebookData","Layout","SEO","title","description","image","Banner","titlePage","className","alt","width","src","ShareButtons","dangerouslySetInnerHTML","__html","appId","href","tabs","Jugaad","Aniversario","module","exports","BaseUrl","AuthService","api","Service","login","email","password","this","post","grantType","then","response","accessToken","refreshToken","user","TokenService","storeToken","storeRefreshToken","storeUser","logout","clearToken","AuthContext","createContext","AuthProvider","children","useState","getToken","getUser","data","setData","signIn","useCallback","a","authService","signOut","Provider","value","useAuth","context","useContext","Error","isRefreshing","refreshSubscribers","axios","create","baseURL","base","interceptors","request","use","headers","error","status","Promise","resolve","reject","getNewToken","token","config","catch","auth","expirationDate","getRefreshToken","Email","Password","GrantType","resp","get","isStatusCodeSuccess","errorMessage","put","delete","localStorage","removeItem","LOCAL_STORAGE_USER","LOCAL_STORAGE_TOKEN","LOCAL_STORAGE_REFRESH_TOKEN","setItem","JSON","stringify","getItem","parse"],"mappings":"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","file":"component---src-pages-aniversariode-5-anosdakivalitaconsulting-tsx-0fdbc0d31698f27bc06b.js","sourcesContent":["import styled from \"styled-components\"\r\n\r\nexport const Container = styled.div`\r\n\tmax-width: 750px;\r\n\twidth: 100%;\r\n\tmargin-bottom: 64px;\r\n\tposition: relative;\r\n\r\n\timg {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.wrapper-image-cover {\r\n\t\tborder-radius: 16px;\r\n\t\toverflow: hidden;\r\n\t\tmargin-top: -56px;\r\n\t\tmax-height: 450px;\r\n\t}\r\n`\r\n\r\nexport const Content = styled.div`\r\n\ttext-align: left;\r\n\tcolor: #444;\r\n\tfont-family: \"Montserrat\", Sans-serif;\r\n\tfont-size: 20px;\r\n\tfont-weight: 400;\r\n\tline-height: 1.6;\r\n\toverflow: hidden;\r\n\twidth: 100%;\r\n\r\n\tul,\r\n\tol {\r\n\t\tpadding-inline-start: 40px;\r\n\t}\r\n`\r\n\r\nexport const Sidebar = styled.div`\r\n\tposition: absolute;\r\n\ttop: 80px;\r\n\tright: -310px;\r\n\twidth: 300px;\r\n\r\n\t@media (max-width: 1400px) {\r\n\t\twidth: 260px;\r\n\t\tright: -275px;\r\n\t}\r\n\r\n\t@media (max-width: 1330px) {\r\n\t\tdisplay: none;\r\n\t}\r\n`\r\n","import React from \"react\"\r\nimport { IBreadCrumbOption } from \"../../../interfaces\"\r\nimport Layout from \"../../Layout\"\r\nimport SEO from \"../../utils/SEO\"\r\nimport Banner from \"../../utils/Banner\"\r\nimport { Container, Content, Sidebar } from \"./style\"\r\nimport ShareButtons from \"../../utils/ShareButtons\"\r\nimport { FacebookProvider, Page } from \"react-facebook\"\r\n\r\nconst AniversarioComponent = () => {\r\n\tconst article = {\r\n\t\ttitle: \"Aniversário de 5 anos da Kivalita Consulting\",\r\n\t\tpostImage: {\r\n\t\t\timageUrl:\r\n\t\t\t\t\"https://api.kivalita.com.br/resources/images/1f013918-36cd-4a82-acda-1d68708496d9.jpg\",\r\n\t\t},\r\n\t\tarticle: `<p><span style=\"font-family: Helvetica, sans-serif;\">A Kivalita\r\n\t\tConsulting comemora seu 5º ano levando qualidade!\r\n\t\t&nbsp;</span></p><p><span style=\"font-family: Helvetica, sans-serif;\">\r\n\t\tNos tempos\r\n\t\tdesafiadores de hoje, enquanto muitas pequenas e médias empresas&nbsp;estão encontrando seu terreno, a Kivalita\r\n\t\testá confiante ao completar seus 5 anos desde a sua criação. Neste mês de setembro,\r\n\t\ta empresa comemora esse marco conectando e educando seus clientes existentes,\r\n\t\tpotenciais, &nbsp;e profissionais de\r\n\t\tqualidade.\r\n\t\t</span></p><p><span style=\"font-family: Helvetica, sans-serif;\">\r\n\t\tA Kivalita\r\n\t\tConsulting apresentará o seu exclusivo <strong>Newsletter Semanal</strong>,\r\n\t\tcompartilhando as principais manchetes da indústria de Life Science com foco no\r\n\t\tmercado brasileiro.\r\n\t\t</span></p><p><font face=\"Helvetica, sans-serif\">Convidamos\r\n\t\ttambém os profissionais da área para a '</font><strong style=\"font-family: Helvetica, sans-serif;\">Semana da Qualidade</strong><font face=\"Helvetica, sans-serif\">' do dia <strong>21 ao dia 25</strong> <strong>de setembro</strong> onde abriremos diálogo e compartilharemos o conhecimento a </font><font face=\"Helvetica, sans-serif\"> seus participantes sobre as possibilidades\r\n\t\texistentes de melhorar os seus processos com decisões de baseadas na área de\r\n\t\tQualidade. A CEO da Kivalita Consulting, Barbara Guelfi, ministrará webinars com novas\r\n\t\tperspectivas sobre a </font><strong style=\"font-family: Helvetica, sans-serif;\">ISO 27001</strong><font face=\"Helvetica, sans-serif\">, a recém-introduzida</font><strong style=\"font-family: Helvetica, sans-serif;\"> Lei LGPD</strong><font face=\"Helvetica, sans-serif\"> no Brasil, Gap\r\n\t\tAnalysis (Diagnóstico de gaps nos processos), data integrity&nbsp;</font><font face=\"Helvetica, sans-serif\">e mais. A semana termina com\r\n\t\tdistribuição de um e-Book muito prático sobre ISO 27001 e com a possibilidade&nbsp;de ganhar um\r\n\t\tGap Analysis inteiramente grátis.</font></p><p><span style=\"font-family: Helvetica, sans-serif;\">Falando um pouco sobre a nossa história, a Kivalita\r\n\t\tConsulting, anteriormente conhecida como Qualicon Pharma nasceu em 2015 com a\r\n\t\tforça e coragem de uma mulher, Barbara. Logo no início de sua carreira, ela\r\n\t\treconheceu a necessidade de uma consultoria liderada pela qualidade.&nbsp; Sua\r\n\t\tvisão de aprimorar e desenvolver o negócio veio da necessidade de seguir\r\n\t\tpadrões para melhorar e ajudar as empresas a crescer. A CEO Barbara Guelfi diz\r\n\t\tque \"os profissionais de qualidade se concentraram mais em ser\r\n\t\tespecialistas na resolução de incêndios do que na melhoria dos processos. Isso\r\n\t\tnão ressoou comigo. Eu tinha que fazer alguma coisa.”\r\n\t\t&nbsp;</span></p><p><font face=\"Helvetica, sans-serif\">\r\n\t\tHoje, os\r\n\t\tserviços da Kivalita Consulting vão desde Validações, Certificações ISO,Projetos Laboratoriais,&nbsp; Traduções, Terceirização de mão de obra qualificada e muito mais.\r\n\t\tRecentemente, também adicionou a Gap Analysis ao seu portfólio. A Kivalita também\r\n\t\ttem serviços focados em tecnologia e desenvolvimento da indústria 4.0.&nbsp; &nbsp;</font></p><p><span style=\"font-family: Helvetica, sans-serif;\"> KIVALITA\r\n\t\torigina-se da tradução da palavra Qualidade em Esperanto (Kvalito)) em Eslovaco\r\n\t\t(Kvalite). Fiel ao seu significado, a missão, visão e propósito da Kivalitas focam\r\n\t\tna melhoria nos processos dos negócios atendendo clientes locais e\r\n\t\tmultinacionais.\r\n\t\t&nbsp;\r\n\t\tNós estamos\r\n\t\tconstruindo a futura geração de líderes de qualidade, apoiando fortemente o\r\n\t\tempoderamento feminino e a diversidade no quadro de funcionários com diferentes\r\n\t\torigens de várias etnias, sexos, culturas. </span></p><p><span style=\"font-family: Helvetica, sans-serif;\">\r\n\t\tA KIVALITA\r\n\t\telabora, desenvolve,&nbsp; e dá consultoria em diversas indústrias como farmacêutica,\r\n\t\tcosmética, alimentícia, química, sanitizantes, veterinária, indústrias\r\n\t\tsucroalcooleiras, importadores, laboratórios e muito mais.\r\n\t\t</span></p><p style=\"text-align: center;\"><span style=\"font-family: Helvetica, sans-serif;\"><strong>\r\n\t\tKivalita\r\n\t\tConsulting, traga a qualidade que sua empresa merece!</strong></span></p><p style=\"text-align: center;\"><span style=\"font-family: Helvetica, sans-serif;\"><a href=\"https://conteudo.kivalitaconsulting.com/semana-da-qualidade?utm_source=website&amp;utm_medium=blog&amp;utm_campaign=divulgacao_semana_qualidade&amp;utm_content=sidebar \" target=\"_blank\"><span style=\"font-size: 24px;\">Se inscreva agora na Semana de qualidade!</span></a></span></p><p style=\"text-align: center;\"><span style=\"font-family: Helvetica, sans-serif;\"><a href=\"https://conteudo.kivalitaconsulting.com/newsletter\" target=\"_blank\"><span style=\"font-size: 24px;\">Se Inscreva agora no nosso Newsletter semanal!</span></a></span></p>`,\r\n\t}\r\n\r\n\tconst breadCrumbList: IBreadCrumbOption[] = [\r\n\t\t{\r\n\t\t\turl: \"/\",\r\n\t\t\tname: \"Home\",\r\n\t\t\tisActive: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: \"articles\",\r\n\t\t\tname: \"Artigos\",\r\n\t\t\tisActive: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: \"articles\",\r\n\t\t\tname: article.title,\r\n\t\t\tisActive: false,\r\n\t\t},\r\n\t]\r\n\r\n\tconst facebookData = {\r\n\t\tid: \"731372470600932\",\r\n\t\turl: \"https://www.facebook.com/kivalitaconsulting/\",\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Layout breadCrumbList={breadCrumbList}>\r\n\t\t\t<SEO\r\n\t\t\t\ttitle={article.title}\r\n\t\t\t\tdescription=\"A Kivalita Consulting é uma consultoria única que busca soluções rápidas, atendendo aos mais rigorosos requisitos regulamentares e de mercado da qualidade.\"\r\n\t\t\t\timage=\"https://api.kivalita.com.br/resources/images/ee373ad7-7773-4953-8d9d-c81cb9f9e487.jpg\"\r\n\t\t\t\tarticle={true}\r\n\t\t\t></SEO>\r\n\t\t\t<Banner titlePage={article.title} />\r\n\t\t\t<Container className=\"container\">\r\n\t\t\t\t<div className=\"wrapper-image-cover\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\talt=\"Article image\"\r\n\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\tsrc={article.postImage.imageUrl}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ShareButtons url=\"https://www.kivalitaconsulting.com/aniversariode5anosdakivalitaconsulting\" />\r\n\r\n\t\t\t\t<Content dangerouslySetInnerHTML={{ __html: article.article }} />\r\n\r\n\t\t\t\t<Sidebar>\r\n\t\t\t\t\t<FacebookProvider appId={facebookData.id}>\r\n\t\t\t\t\t\t<Page href={facebookData.url} tabs=\"timeline\" />\r\n\t\t\t\t\t</FacebookProvider>\r\n\t\t\t\t</Sidebar>\r\n\t\t\t</Container>\r\n\t\t</Layout>\r\n\t)\r\n}\r\n\r\nexport default AniversarioComponent\r\n","import React from \"react\"\r\n\r\nimport { AuthProvider } from \"../hooks/auth\"\r\nimport AniversarioComponent from \"../components/pages/Aniversario\"\r\n\r\nconst Jugaad = () => {\r\n\treturn (\r\n\t\t<AuthProvider>\r\n\t\t\t<AniversarioComponent />\r\n\t\t</AuthProvider>\r\n\t)\r\n}\r\n\r\nexport default Jugaad\r\n","module.exports = {\r\n\tBaseUrl: \"https://kivalitaapi.azurewebsites.net/api/\",\r\n\t// BaseUrl: \"http://localhost:5000/api/\",\r\n}\r\n","import Service from \"./service\"\r\nimport TokenService from \"./token-service\"\r\n\r\ninterface IReponse {\r\n\taccessToken: string\r\n\texpirationDate: string\r\n\trefreshToken: string\r\n\tuser: object\r\n}\r\n\r\nclass AuthService {\r\n\tprivate api = new Service()\r\n\r\n\tlogin(email: string, password: string) {\r\n\t\treturn this.api\r\n\t\t\t.post<IReponse>(\"user/auth\", {\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t\tgrantType: \"password\",\r\n\t\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tconst { accessToken, refreshToken, user } = response\r\n\r\n\t\t\t\tTokenService.storeToken(accessToken)\r\n\t\t\t\tTokenService.storeRefreshToken(refreshToken)\r\n\t\t\t\tTokenService.storeUser(user)\r\n\r\n\t\t\t\treturn response\r\n\t\t\t})\r\n\t}\r\n\r\n\tlogout() {\r\n\t\tTokenService.clearToken()\r\n\t}\r\n}\r\n\r\nexport default AuthService\r\n","import React, { createContext, useCallback, useState, useContext } from \"react\"\r\n\r\nimport AuthService from \"../services/auth-service\"\r\nimport TokenService from \"../services/token-service\"\r\n\r\ninterface IAuthState {\r\n\taccessToken: string\r\n\tuser: object\r\n}\r\n\r\ninterface ISignInCreadentials {\r\n\temail: string\r\n\tpassword: string\r\n}\r\n\r\ninterface IAuthContextData {\r\n\tuser: {\r\n\t\tid: string\r\n\t\temail: string\r\n\t\tfirstName: string\r\n\t\tlastName: string\r\n\t}\r\n\tsignIn(credentials: ISignInCreadentials): Promise<void>\r\n\tsignOut(): void\r\n}\r\n\r\nconst AuthContext = createContext<IAuthContextData>({} as IAuthContextData)\r\n\r\nconst AuthProvider: React.FC = ({ children }) => {\r\n\tconst [data, setData] = useState<IAuthState>(() => {\r\n\t\tconst accessToken = TokenService.getToken()\r\n\t\tconst user = TokenService.getUser()\r\n\r\n\t\tif (accessToken && user) {\r\n\t\t\treturn { accessToken, user }\r\n\t\t}\r\n\r\n\t\treturn {} as IAuthState\r\n\t})\r\n\r\n\tconst signIn = useCallback(async ({ email, password }) => {\r\n\t\tconst authService = new AuthService()\r\n\t\tconst response = await authService.login(email, password)\r\n\r\n\t\tconst { accessToken, user } = response\r\n\r\n\t\tsetData({ accessToken, user })\r\n\t}, [])\r\n\r\n\tconst signOut = useCallback(() => {\r\n\t\tTokenService.clearToken()\r\n\r\n\t\tsetData({} as IAuthState)\r\n\t}, [])\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider value={{ user: data.user, signIn, signOut }}>\r\n\t\t\t{children}\r\n\t\t</AuthContext.Provider>\r\n\t)\r\n}\r\n\r\nfunction useAuth(): IAuthContextData {\r\n\tconst context = useContext(AuthContext)\r\n\r\n\tif (!context) {\r\n\t\tthrow new Error(\"useAuth must be used within an AuthProvider\")\r\n\t}\r\n\r\n\treturn context\r\n}\r\n\r\nexport { AuthProvider, useAuth }\r\n","import axios from \"axios\"\r\nimport TokenService from \"./token-service\"\r\n\r\nimport * as base from \"./base-url.js\"\r\n\r\ninterface IResponse<T> {\r\n\tstatusCode: number\r\n\tisStatusCodeSuccess: boolean\r\n\tdata: T\r\n\terrorMessage: string\r\n}\r\n\r\ninterface IAuth {\r\n\taccessToken: string\r\n\texpirationDate: string\r\n\trefreshToken: string\r\n\tEmail: string\r\n\tPassword: string\r\n\tGrantType: string\r\n}\r\n\r\nclass Service<T> {\r\n\tisRefreshing = false\r\n\trefreshSubscribers = []\r\n\r\n\tapi = axios.create({\r\n\t\tbaseURL: base.BaseUrl,\r\n\t})\r\n\r\n\tconstructor() {\r\n\t\tthis.api.interceptors.request.use(request => {\r\n\t\t\trequest.headers[\"Authorization\"] = `Bearer ${TokenService.getToken()}`\r\n\t\t\treturn request\r\n\t\t})\r\n\t\tthis.api.interceptors.response.use(\r\n\t\t\tresponse => {\r\n\t\t\t\treturn response\r\n\t\t\t},\r\n\t\t\terror => {\r\n\t\t\t\tif (error.response?.status !== 401) {\r\n\t\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t\treject(error)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn this.getNewToken()\r\n\t\t\t\t\t.then((token: string) => {\r\n\t\t\t\t\t\tconst config = error.config\r\n\t\t\t\t\t\tconfig.headers[\"Authorization\"] = `Bearer ${token}`\r\n\r\n\t\t\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\t\t\taxios\r\n\t\t\t\t\t\t\t\t.request(config)\r\n\t\t\t\t\t\t\t\t.then(response => {\r\n\t\t\t\t\t\t\t\t\tresolve(response)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\t\t\t\treject(error)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error: any) => {\r\n\t\t\t\t\t\tPromise.reject(error)\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\tgetNewToken() {\r\n\t\tconst auth: IAuth = {\r\n\t\t\taccessToken: \"\",\r\n\t\t\texpirationDate: \"\",\r\n\t\t\trefreshToken: TokenService.getRefreshToken() || \"\",\r\n\t\t\tEmail: \"\",\r\n\t\t\tPassword: \"\",\r\n\t\t\tGrantType: \"refresh_token\",\r\n\t\t}\r\n\r\n\t\treturn this.post<IAuth>(\"User/auth\", auth, {}).then(resp => {\r\n\t\t\tTokenService.storeToken(resp.accessToken)\r\n\t\t\tTokenService.storeRefreshToken(resp.refreshToken)\r\n\t\t\treturn resp.accessToken\r\n\t\t})\r\n\t}\r\n\r\n\tasync get<T>(url: string, headers?: {}) {\r\n\t\treturn await this.api\r\n\t\t\t.get<IResponse<T>>(url, {\r\n\t\t\t\theaders: headers,\r\n\t\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (response.data.isStatusCodeSuccess) {\r\n\t\t\t\t\treturn response.data.data\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow response.data.errorMessage\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tasync put<T>(url: string, data: T, headers?: {}) {\r\n\t\treturn await this.api\r\n\t\t\t.put<IResponse<T>>(url, data, {\r\n\t\t\t\theaders: headers,\r\n\t\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (response.data.isStatusCodeSuccess) {\r\n\t\t\t\t\treturn response.data.data\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow response.data.errorMessage\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tasync post<T>(url: string, data: object, headers?: {}) {\r\n\t\treturn await this.api\r\n\t\t\t.post<IResponse<T>>(url, data, {\r\n\t\t\t\theaders: headers,\r\n\t\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (response.data.isStatusCodeSuccess) {\r\n\t\t\t\t\treturn response.data.data\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow response.data.errorMessage\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n\r\n\tasync delete<T>(url: string, headers?: {}) {\r\n\t\treturn await this.api\r\n\t\t\t.delete<IResponse<T>>(url, {\r\n\t\t\t\theaders: headers,\r\n\t\t\t})\r\n\t\t\t.then(response => {\r\n\t\t\t\tif (response.data.isStatusCodeSuccess) {\r\n\t\t\t\t\treturn response.data.data\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow response.data.errorMessage\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t}\r\n}\r\n\r\nexport default Service\r\n","class TokenService {\r\n\tprivate static readonly LOCAL_STORAGE_USER = \"user\"\r\n\tprivate static readonly LOCAL_STORAGE_TOKEN = \"token\"\r\n\tprivate static readonly LOCAL_STORAGE_REFRESH_TOKEN = \"refresh_token\"\r\n\r\n\tpublic static clearToken() {\r\n\t\tif (typeof localStorage != \"undefined\") {\r\n\t\t\tlocalStorage.removeItem(this.LOCAL_STORAGE_USER)\r\n\t\t\tlocalStorage.removeItem(this.LOCAL_STORAGE_TOKEN)\r\n\t\t\tlocalStorage.removeItem(this.LOCAL_STORAGE_REFRESH_TOKEN)\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static storeUser(user: object) {\r\n\t\tif (typeof localStorage != \"undefined\") {\r\n\t\t\tlocalStorage.setItem(this.LOCAL_STORAGE_USER, JSON.stringify(user))\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static storeToken(token: string) {\r\n\t\tif (typeof localStorage != \"undefined\") {\r\n\t\t\tlocalStorage.setItem(this.LOCAL_STORAGE_TOKEN, token)\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static storeRefreshToken(refreshToken: string) {\r\n\t\tif (typeof localStorage != \"undefined\") {\r\n\t\t\tlocalStorage.setItem(this.LOCAL_STORAGE_REFRESH_TOKEN, refreshToken)\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static getRefreshToken() {\r\n\t\tif (typeof localStorage != \"undefined\") {\r\n\t\t\treturn localStorage.getItem(this.LOCAL_STORAGE_REFRESH_TOKEN)\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static getToken() {\r\n\t\tif (typeof localStorage != \"undefined\") {\r\n\t\t\treturn localStorage.getItem(this.LOCAL_STORAGE_TOKEN)\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static getUser() {\r\n\t\tif (typeof localStorage != \"undefined\") {\r\n\t\t\tconst user = localStorage.getItem(this.LOCAL_STORAGE_USER)\r\n\t\t\treturn JSON.parse(user)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default TokenService\r\n"],"sourceRoot":""}